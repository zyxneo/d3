{"version":3,"sources":["webpack:///./src/pages/svg-bar-chart-vertical.jsx","webpack:///./src/components/Footer/index.js","webpack:///./src/components/Footer/Footer.jsx","webpack:///./src/components/Header/index.js","webpack:///./src/components/Header/Header.jsx","webpack:///./src/components/Layout/Layout.jsx","webpack:///./src/components/Layout/index.js"],"names":["IndexPage","props","state","updateBar","height","x","d3__WEBPACK_IMPORTED_MODULE_3__","l","range","paddingInner","paddingOuter","round","y","m","chart","p","attr","width","append","w","Object","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","withPrefix","then","data","domain","map","d","letter","Math","max","apply","frequency","bar","selectAll","enter","bandwidth","text","xAxis","a","tickValues","call","yAxis","b","ticks","componentDidMount","this","componentDidUpdate","render","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","_components_Layout__WEBPACK_IMPORTED_MODULE_4__","className","e","Component","__webpack_exports__","default","u","236","t","238","n","r","c","i","s","components_Footer","react_default","Segment","vertical","Container","components_Header","Menu","size","Item","as","gatsby_link_default","to","position","Dropdown","item","components_Layout_Layout","Helmet_default","title","meta","name","content","children","h","585"],"mappings":"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","file":"component---src-pages-svg-bar-chart-vertical-jsx-81b657906885ff9fe200.js","sourcesContent":["// @flow\n\nimport React from 'react'\n// $FlowIgnore\nimport { withPrefix } from 'gatsby-link'\n// $FlowIgnore\nimport * as d3 from 'd3'\n\nimport Layout from '../components/Layout'\n// $FlowIgnore\nimport './svg-bar-chart-vertical.scss'\n\ntype Props = {\n  data: Array<number>,\n}\n\ntype State = {\n  data: Array<number>,\n}\n\nclass IndexPage extends React.Component<Props, State> {\n  props: Props\n\n  state: State\n\n  componentDidMount() {\n    this.updateBar()\n  }\n\n  componentDidUpdate() {\n    // this.updateBar() // cause multiple \"select\" and \"append\", ends with repeating svg nodes\n  }\n\n  updateBar = () => {\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40,\n    }\n    const width = 960 - margin.left - margin.right\n    const height = 500 - margin.top - margin.bottom\n\n    // https://github.com/d3/d3-scale\n\n    const x = d3.scaleBand()\n      .range([0, width])\n      .paddingInner(0.2)\n      .paddingOuter(0.8)\n      .round(true)\n\n    const y = d3.scaleLinear()\n      .range([height, 0])\n\n    const chart = d3.select('.chart')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`)\n\n    d3.tsv(withPrefix('/db/data-vertical.tsv')).then((data) => {\n      x.domain(data.map(d => d.letter))\n      y.domain([0, Math.max(...data.map(d => d.frequency))])\n\n      const bar = chart.selectAll('g.column')\n        .data(data)\n        .enter().append('g')\n        .attr('class', '.column') // do not forget to identify selection!\n        .attr('transform', d => `translate(${x(d.letter)},0)`)\n\n      bar.append('rect')\n        .attr('y', d => y(d.frequency))\n        .attr('height', d => height - y(d.frequency))\n        .attr('width', x.bandwidth())\n\n      bar.append('text')\n        .attr('text-anchor', 'start')\n        .attr('dy', '.35em')\n        /* eslint-disable no-confusing-arrow */\n        .attr('dx', d => (y(d.frequency) >= height / 2) ? '-1em' : '4em')\n        .attr('class', d => (y(d.frequency) >= height / 2) ? 'upper' : 'lower')\n        /* eslint-enable no-confusing-arrow */\n        .attr('transform', d => `rotate(90), translate(${y(d.frequency)}, -${x.bandwidth() / 2})`)\n        .text(d => d.frequency)\n\n      const xAxis = d3.axisBottom(x)\n        .tickValues(data.map(d => d.letter))\n\n      chart.append('g')\n        .attr('class', 'x axis')\n        .attr('transform', `translate(0, ${height})`)\n        .call(xAxis)\n\n      const yAxis = d3.axisLeft(y)\n        .ticks(10)\n\n      chart.append('g')\n        .attr('class', 'y axis')\n        .call(yAxis)\n    })\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div className=\"svg-bar-chart-vertical\">\n          <svg className=\"chart\" />\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default IndexPage\n","// @flow\n\nimport Footer from './Footer'\n\nexport default Footer\n","// @flow\n\nimport React from 'react'\n// import Link from 'gatsby-link';\n\nimport {\n  Container,\n  Segment,\n} from 'semantic-ui-react'\n\nconst LayoutFooter = () => (\n  <Segment vertical>\n    <Container>\n      D3 examples\n    </Container>\n  </Segment>\n)\n\nexport default LayoutFooter\n","// @flow\n\nimport Header from './Header'\n\nexport default Header\n","// @flow\n\nimport React from 'react'\n// $FlowIgnore\nimport Link from 'gatsby-link'\n\nimport {\n  Container,\n  Dropdown,\n  Menu,\n  // $FlowIgnore\n} from 'semantic-ui-react'\n\nconst Header = () => (\n  <Menu size=\"large\">\n    <Container>\n      <Menu.Item as={Link} to=\"/\">Home</Menu.Item>\n\n      <Menu.Menu position=\"right\">\n        <Menu.Menu position=\"right\">\n          <Dropdown item text=\"Examples\">\n            <Dropdown.Menu>\n              <Dropdown.Item  as={Link} to=\"/simple-bar-chart\">simple-bar-chart</Dropdown.Item>\n              <Dropdown.Item  as={Link} to=\"/svg-bar-chart\">svg-bar-chart</Dropdown.Item>\n              <Dropdown.Item  as={Link} to=\"/svg-bar-chart-vertical\">svg-bar-chart-vertical</Dropdown.Item>\n              <Dropdown.Item  as={Link} to=\"/general-update-pattern\">general-update-pattern</Dropdown.Item>\n              <Dropdown.Item  as={Link} to=\"/nested-selections\">nested-selections</Dropdown.Item>\n              <Dropdown.Item  as={Link} to=\"/working-with-transitions\">working-with-transitions</Dropdown.Item>\n              <Dropdown.Item  as={Link} to=\"/axis-styling\">axis-styling</Dropdown.Item>\n              <Dropdown.Item  as={Link} to=\"/stacked-to-grouped-bars\">stacked-to-grouped-bars</Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Menu>\n\n      </Menu.Menu>\n    </Container>\n  </Menu>\n)\n\nexport default Header\n","// @flow\n\nimport React from 'react'\nimport type { Node } from 'react'\n// $FlowIgnore\nimport Helmet from 'react-helmet'\nimport {\n  Container,\n} from 'semantic-ui-react'\n\nimport Footer from '../Footer'\nimport Header from '../Header'\n\n\n// $FlowIgnore\nimport 'sanitize.css/sanitize.css'\n// $FlowIgnore\nimport 'semantic-ui-css/semantic.min.css'\n\n// $FlowIgnore\nimport './index.scss'\n\ntype Props = {\n  children: Node\n}\n\nconst Layout = (props: Props): Node => (\n  <div>\n    <Helmet\n      title=\"D3 examples\"\n      meta={[\n        { name: 'description', content: 'D3 examples and tutorials in built with Gatsby react' },\n        { name: 'keywords', content: 'D3, React' },\n      ]}\n    />\n    <Header />\n    <Container>\n      {props.children}\n    </Container>\n    <Footer />\n  </div>\n)\n\nexport default Layout\n","// @flow\n\nimport Layout from './Layout'\n\nexport default Layout\n"],"sourceRoot":""}