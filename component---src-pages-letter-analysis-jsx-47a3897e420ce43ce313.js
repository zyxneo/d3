(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{142:function(e,t,a){"use strict";a.r(t);a(75),a(442),a(35),a(71),a(184),a(73);var n=a(6),r=a.n(n),i=a(48),o=a.n(i),c=a(0),u=a.n(c),s=a(175),l=a(478),h=a(475),d=a(161),f=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleChange=a.handleChange.bind(o()(o()(a))),a.analyze=a.analyze.bind(o()(o()(a))),a.updateBar=function(){var e,t=document.querySelector(".letter-analysis"),n=t.getContext("2d"),r=t.width,i=t.height,o=a.state.data,c=o.maxCount,u=900*Math.PI,l=8,h=s.m().force("link",s.k().id(function(e){return e.id})).force("charge",s.l()).force("center",s.j(r/2,i/2));function d(e){var t=u/c*e;return Math.sqrt(t/Math.PI)}function f(e){n.save(),n.beginPath();var t,a,r,i,c,u,s,h,f,p=d(o.nodes.find(function(t){return t.id===e.target.id}).count),y=Math.atan2(e.target.y-e.source.y,e.target.x-e.source.x),m=e.target.x-e.source.x,g=e.target.y-e.source.y,x=Math.sqrt(m*m+g*g),v=e.target.x-x/2*Math.cos(y-Math.PI/l),b=e.target.y-x/2*Math.sin(y-Math.PI/l),M=e.target.x-x/2*Math.cos(y-Math.PI/(l+1)),w=e.target.y-x/2*Math.sin(y-Math.PI/(l+1)),E=(t={cx:e.target.x,cy:e.target.y,radius:p,px:e.source.x,py:e.source.y},a=t.cx,r=t.cy,i=t.radius,c=a-t.px,u=r-t.py,s=Math.sqrt(c*c+u*u),h=Math.asin(i/s),f=Math.atan2(u,c),{ta:{x:i*Math.sin(f-h),y:i*-Math.cos(f-h)},tb:{x:i*-Math.sin(f+h),y:i*Math.cos(f+h)}}),k=e.target.x+p*Math.cos(y-Math.PI),C=e.target.y+p*Math.sin(y-Math.PI);n.moveTo(e.target.x,e.target.y),n.bezierCurveTo(k,C,M,w,e.source.x,e.source.y),n.bezierCurveTo(e.source.x,e.source.y,v,b,e.target.x+E.tb.x,e.target.y+E.tb.y),n.moveTo(e.source.x,e.source.y),n.save();var P,T=n.createLinearGradient(e.source.x,e.source.y,e.target.x,e.target.y),j=(P=e.repetition,1/o.maxRepetition*P);T.addColorStop(0,"rgba(0,0,255,"+j+")"),T.addColorStop(1,"rgba(255,0,0,"+j+")"),n.fillStyle=T,n.fill(),n.restore()}function p(t){var a=d(t.count);n.save(),n.beginPath(),n.moveTo(t.x+a,t.y),n.arc(t.x,t.y,a,0,2*Math.PI),n.fillStyle=e===t?"red":"#333",n.fill(),n.fillStyle="#fff",n.textAlign="center",n.textBaseline="middle",n.font=1.3*a+"px arial",n.fillText(t.id,t.x,t.y),n.restore()}o.links&&o.nodes&&(h.nodes(o.nodes).on("tick",function(){n.clearRect(0,0,r,i),n.save(),n.beginPath(),o.links.forEach(f),o.nodes.forEach(p),n.restore()}),h.force("link").distance(function(e){return 1/e.repetition*300}).links(o.links),s.y(t).call(s.e().container(t).subject(function(){return h.find(s.h.x,s.h.y)}).on("start",function(){s.h.active||h.alphaTarget(.3).restart(),s.h.subject.fx=s.h.subject.x,s.h.subject.fy=s.h.subject.y}).on("drag",function(){s.h.subject.fx=s.h.x,s.h.subject.fy=s.h.y}).on("end",function(){s.h.active||h.alphaTarget(0),s.h.subject.fx=null,s.h.subject.fy=null,e=s.h.subject})))},a.state={data:{maxCount:1,maxRepetition:0}},a}r()(t,e);var a=t.prototype;return a.componentDidUpdate=function(){this.updateBar()},a.handleChange=function(e){var t=e.target.value;this.analyze(t)},a.analyze=function(e){var t=e.replace(/[\u00D8-\u024F]/g,"").replace(/ /g,"").toLowerCase(),a=Array.from(t),n={nodes:[],links:[],maxCount:1,maxRepetition:1};a.map(function(e,t){var r=!1;n.nodes.map(function(t){if(t.id===e)return r=!0,[t.count+=1,n.maxCount=Math.max(t.count+=1,n.maxCount)]}),r||n.nodes.push({id:e,count:1});var i=!1;return n.links.map(function(r){return r.source===e&&r.target===a[t+1]?(i=!0,[r.repetition+=1,n.maxRepetition=Math.max(r.repetition+=1,n.maxRepetition)]):null}),i||void 0===a[t+1]||n.links.push({source:e,target:a[t+1],repetition:1}),null}),this.setState({data:n})},a.render=function(){return u.a.createElement(d.a,null,u.a.createElement(l.a,null,"Letter analyzer"),u.a.createElement("p",null,"This example takes any string as input, but only latinic caracters will be taken to account. The graph displays the order of the letters, so that character X was followed by character Y. The handling of the repetitions and the bi-directional links are made with custom functions."),u.a.createElement(h.a,null,u.a.createElement(h.a.TextArea,{onChange:this.handleChange,placeholder:"Paste or type some text here"})),u.a.createElement("canvas",{className:"letter-analysis",width:"960",height:"500"}))},t}(u.a.Component);t.default=f},158:function(e,t,a){var n;e.exports=(n=a(159))&&n.default||n},159:function(e,t,a){"use strict";a.r(t);a(29);var n=a(0),r=a.n(n),i=a(4),o=a.n(i),c=a(49),u=a(2),s=function(e){var t=e.location,a=u.default.getResourcesForPathnameSync(t.pathname);return r.a.createElement(c.a,Object.assign({location:t,pageResources:a},a.json))};s.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},t.default=s},160:function(e,t,a){},161:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(170),o=a.n(i),c=a(474),u=a(479),s=function(){return r.a.createElement(u.a,{vertical:!0},r.a.createElement(c.a,null,"D3 examples"))},l=a(153),h=a.n(l),d=a(477),f=function(){return r.a.createElement(d.a,{size:"large"},r.a.createElement(c.a,null,r.a.createElement(d.a.Item,{as:h.a,to:"/"},"Home")))},p=(a(171),a(172),a(160),function(e){return r.a.createElement("div",null,r.a.createElement(o.a,{title:"D3 examples",meta:[{name:"description",content:"D3 examples and tutorials in built with Gatsby react"},{name:"keywords",content:"D3, React"}]}),r.a.createElement(f,null),r.a.createElement(c.a,null,e.children),r.a.createElement(s,null))});t.a=p},168:function(e,t,a){"use strict";a.r(t),a.d(t,"graphql",function(){return p}),a.d(t,"StaticQueryContext",function(){return d}),a.d(t,"StaticQuery",function(){return f});var n=a(0),r=a.n(n),i=a(4),o=a.n(i),c=a(153),u=a.n(c);a.d(t,"Link",function(){return u.a}),a.d(t,"withPrefix",function(){return c.withPrefix}),a.d(t,"navigate",function(){return c.navigate}),a.d(t,"push",function(){return c.push}),a.d(t,"replace",function(){return c.replace}),a.d(t,"navigateTo",function(){return c.navigateTo});var s=a(158),l=a.n(s);a.d(t,"PageRenderer",function(){return l.a});var h=a(28);a.d(t,"parsePath",function(){return h.a});var d=r.a.createContext({}),f=function(e){return r.a.createElement(d.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};function p(){throw new Error("It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away,. Unfortunately, something went wrong and the query was left in the compiled code.\n\n.Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.")}f.propTypes={data:o.a.object,query:o.a.string.isRequired,render:o.a.func,children:o.a.func}}}]);
//# sourceMappingURL=component---src-pages-letter-analysis-jsx-47a3897e420ce43ce313.js.map