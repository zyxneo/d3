{"version":3,"sources":["webpack:///./src/components/d3/LineChart.jsx","webpack:///./src/pages/sxywu.jsx","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/Footer/index.js","webpack:///./src/components/Footer/Footer.jsx","webpack:///./src/components/Header/index.js","webpack:///./src/components/Header/Header.jsx","webpack:///./src/components/Layout/Layout.jsx","webpack:///./src/components/Layout/index.js","webpack:///./.cache/gatsby-browser-entry.js"],"names":["width","height","margin","top","right","bottom","left","LineChart","state","highs","lows","xScale","d3","range","yScale","lineGenerator","xAxis","scale","_this","tickFormat","yAxis","d","getDerivedStateFromProps","nextProps","prevState","data","timeDomain","date","tempMax","high","domain","x","y","low","componentDidUpdate","this","refs","call","render","_this$state","react_default","a","createElement","fill","stroke","strokeWidth","ref","transform","Component","LineChartPage","temps","city","updateCity","e","setState","target","value","componentDidMount","_this2","Promise","all","fetch","withPrefix","then","responses","map","resp","json","_ref","sf","ny","am","forEach","day","Date","Layout","name","onChange","label","option","key","d3_LineChart","m","module","exports","require","default","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","React","InternalPageRenderer","Object","assign","propTypes","PropTypes","shape","string","isRequired","Footer","Segment","vertical","Container","Header","Menu","size","Item","as","Link","to","props","Helmet_default","title","meta","content","components_Header","children","components_Footer","__webpack_require__","r","__webpack_exports__","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","Consumer","staticQueryData","query","Error","object","func"],"mappings":"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","file":"component---src-pages-sxywu-jsx-d70cfd488dcdabdccb77.js","sourcesContent":["// @flow\n\n// example from https://github.com/sxywu/react-d3-example/\n\nimport React, { Component } from 'react'\nimport * as d3 from 'd3'\n\nconst width = 650\nconst height = 400\nconst margin = {\n  top: 20,\n  right: 5,\n  bottom: 20,\n  left: 35,\n}\n\nconst red = '#ff4136'\nconst blue = '#0074d9'\n\nclass LineChart extends Component {\n  state = {\n    highs: null, // svg path command for all the high temps\n    lows: null, // svg path command for low temps,\n    // d3 helpers\n    xScale: d3.scaleTime().range([margin.left, width - margin.right]),\n    yScale: d3.scaleLinear().range([height - margin.bottom, margin.top]),\n    lineGenerator: d3.line(),\n  }\n\n  xAxis = d3.axisBottom().scale(this.state.xScale)\n    .tickFormat(d3.timeFormat('%b'))\n  yAxis = d3.axisLeft().scale(this.state.yScale)\n    .tickFormat(d => `${d}â„‰`)\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (!nextProps.data) return null // data hasn't been loaded yet so do nothing\n    const { data } = nextProps\n    const {\n      xScale,\n      yScale,\n      lineGenerator,\n    } = prevState\n\n    // data has changed, so recalculate scale domains\n    const timeDomain = d3.extent(data, d => d.date)\n    const tempMax = d3.max(data, d => d.high)\n    xScale.domain(timeDomain)\n    yScale.domain([0, tempMax])\n\n    // calculate line for lows\n    lineGenerator.x(d => xScale(d.date))\n    lineGenerator.y(d => yScale(d.low))\n    const lows = lineGenerator(data)\n    // and then highs\n    lineGenerator.y(d => yScale(d.high))\n    const highs = lineGenerator(data)\n\n    return { lows, highs }\n  }\n\n  componentDidUpdate() {\n    d3.select(this.refs.xAxis).call(this.xAxis)\n    d3.select(this.refs.yAxis).call(this.yAxis)\n  }\n\n  render() {\n    const {\n      highs,\n      lows,\n    } = this.state\n\n    return (\n      <svg width={width} height={height}>\n        <path d={highs} fill=\"none\" stroke={red} strokeWidth=\"2\" />\n        <path d={lows} fill=\"none\" stroke={blue} strokeWidth=\"2\" />\n        <g>\n          <g ref=\"xAxis\" transform={`translate(0, ${height - margin.bottom})`} />\n          <g ref=\"yAxis\" transform={`translate(${margin.left}, 0)`} />\n        </g>\n      </svg>\n    )\n  }\n}\n\nexport default LineChart\n","// @flow\n\nimport React, { Component } from 'react'\n// $FlowIgnore\nimport { withPrefix } from 'gatsby-link'\n\nimport Layout from '../components/Layout'\nimport LineChart from '../components/d3/LineChart'\n\ntype Props = {}\n\ntype State = {\n  temps: {},\n  city: string\n}\n\nclass LineChartPage extends Component<Props, State> {\n  props: Props\n\n  state: State\n\n  state = {\n    temps: {},\n    city: 'sf', // city whose temperatures to show\n  };\n\n  componentDidMount() {\n    Promise.all([\n      fetch(withPrefix('/db/sf.json')),\n      fetch(withPrefix('/db/ny.json')),\n      fetch(withPrefix('/db/am.json')),\n    ]).then(responses => Promise.all(responses.map(resp => resp.json())))\n      .then(([sf, ny, am]) => {\n        sf.forEach(day => day.date = new Date(day.date))\n        ny.forEach(day => day.date = new Date(day.date))\n        am.forEach(day => day.date = new Date(day.date))\n\n        this.setState({\n          temps: { sf, ny, am },\n        })\n      })\n  }\n\n  updateCity = (e:Event) => {\n    this.setState({ city: e.target.value })\n  }\n\n  render() {\n    const { temps, city } = this.state\n    const data = temps[city]\n\n    return (\n      <Layout>\n        <h2>\n          2017 Temperatures for\n          <select name=\"city\" onChange={this.updateCity}>\n            {\n              [\n                { label: 'San Francisco', value: 'sf' },\n                { label: 'New York', value: 'ny' },\n                { label: 'Amsterdam', value: 'am' },\n              ].map(option => (<option key={option.value} value={option.value}>{option.label}</option>))\n            }\n          </select>\n        </h2>\n        <p>\n          *warning: these are <em>not</em> meant to be good examples of data visualizations,<br />\n          but just to show the possibility of using D3 and React*\n        </p>\n        <p>\n          This example is a copy of https://github.com/sxywu/react-d3-example\n        </p>\n        <LineChart data={data} />\n      </Layout>\n    )\n  }\n}\n\nexport default LineChartPage\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","// @flow\n\nimport Footer from './Footer'\n\nexport default Footer\n","// @flow\n\nimport React from 'react'\n// import Link from 'gatsby-link';\n\nimport {\n  Container,\n  Segment,\n} from 'semantic-ui-react'\n\nconst LayoutFooter = () => (\n  <Segment vertical>\n    <Container>\n      D3 examples\n    </Container>\n  </Segment>\n)\n\nexport default LayoutFooter\n","// @flow\n\nimport Header from './Header'\n\nexport default Header\n","// @flow\n\nimport React from 'react'\n// $FlowIgnore\nimport Link from 'gatsby-link'\n\nimport {\n  Container,\n  Menu,\n  // $FlowIgnore\n} from 'semantic-ui-react'\n\nconst Header = () => (\n  <Menu size=\"large\">\n    <Container>\n      <Menu.Item as={Link} to=\"/\">Home</Menu.Item>\n\n\n    </Container>\n  </Menu>\n)\n\nexport default Header\n","// @flow\n\nimport React from 'react'\nimport type { Node } from 'react'\n// $FlowIgnore\nimport Helmet from 'react-helmet'\nimport {\n  Container,\n} from 'semantic-ui-react'\n\nimport Footer from '../Footer'\nimport Header from '../Header'\n\n\n// $FlowIgnore\nimport 'sanitize.css/sanitize.css'\n// $FlowIgnore\nimport 'semantic-ui-css/semantic.min.css'\n\n// $FlowIgnore\nimport './index.scss'\n\ntype Props = {\n  children: Node\n}\n\nconst Layout = (props: Props): Node => (\n  <div>\n    <Helmet\n      title=\"D3 examples\"\n      meta={[\n        { name: 'description', content: 'D3 examples and tutorials in built with Gatsby react' },\n        { name: 'keywords', content: 'D3, React' },\n      ]}\n    />\n    <Header />\n    <Container>\n      {props.children}\n    </Container>\n    <Footer />\n  </div>\n)\n\nexport default Layout\n","// @flow\n\nimport Layout from './Layout'\n\nexport default Layout\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n"],"sourceRoot":""}