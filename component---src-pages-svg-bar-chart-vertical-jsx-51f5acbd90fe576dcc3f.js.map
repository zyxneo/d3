{"version":3,"sources":["webpack:///./src/pages/svg-bar-chart-vertical.jsx","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/Footer/index.js","webpack:///./src/components/Footer/Footer.jsx","webpack:///./src/components/Header/index.js","webpack:///./src/components/Header/Header.jsx","webpack:///./src/components/Layout/Layout.jsx","webpack:///./src/components/Layout/index.js","webpack:///./.cache/gatsby-browser-entry.js"],"names":["IndexPage","updateBar","margin","width","height","x","d3","range","paddingInner","paddingOuter","round","y","chart","attr","append","withPrefix","then","data","domain","map","d","letter","Math","max","apply","frequency","bar","selectAll","enter","bandwidth","text","xAxis","tickValues","call","yAxis","ticks","componentDidMount","this","componentDidUpdate","render","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_components_Layout__WEBPACK_IMPORTED_MODULE_4__","className","React","Component","m","module","exports","require","default","ProdPageRenderer","_ref","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","propTypes","PropTypes","shape","string","isRequired","Footer","react_default","Segment","vertical","Container","Header","Menu","size","Item","as","Link","to","Layout","props","Helmet_default","title","meta","name","content","components_Header","children","components_Footer","__webpack_require__","r","__webpack_exports__","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","Consumer","staticQueryData","query","Error","object","func"],"mappings":"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","file":"component---src-pages-svg-bar-chart-vertical-jsx-51f5acbd90fe576dcc3f.js","sourcesContent":["// @flow\n\nimport React from 'react'\n// $FlowIgnore\nimport { withPrefix } from 'gatsby-link'\n// $FlowIgnore\nimport * as d3 from 'd3'\n\nimport Layout from '../components/Layout'\n// $FlowIgnore\nimport './svg-bar-chart-vertical.scss'\n\ntype Props = {\n  data: Array<number>,\n}\n\ntype State = {\n  data: Array<number>,\n}\n\nclass IndexPage extends React.Component<Props, State> {\n  props: Props\n\n  state: State\n\n  componentDidMount() {\n    this.updateBar()\n  }\n\n  componentDidUpdate() {\n    // this.updateBar() // cause multiple \"select\" and \"append\", ends with repeating svg nodes\n  }\n\n  updateBar = () => {\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40,\n    }\n    const width = 960 - margin.left - margin.right\n    const height = 500 - margin.top - margin.bottom\n\n    // https://github.com/d3/d3-scale\n\n    const x = d3.scaleBand()\n      .range([0, width])\n      .paddingInner(0.2)\n      .paddingOuter(0.8)\n      .round(true)\n\n    const y = d3.scaleLinear()\n      .range([height, 0])\n\n    const chart = d3.select('.chart')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`)\n\n    d3.tsv(withPrefix('/db/data-vertical.tsv')).then((data) => {\n      x.domain(data.map(d => d.letter))\n      y.domain([0, Math.max(...data.map(d => d.frequency))])\n\n      const bar = chart.selectAll('g.column')\n        .data(data)\n        .enter().append('g')\n        .attr('class', '.column') // do not forget to identify selection!\n        .attr('transform', d => `translate(${x(d.letter)},0)`)\n\n      bar.append('rect')\n        .attr('y', d => y(d.frequency))\n        .attr('height', d => height - y(d.frequency))\n        .attr('width', x.bandwidth())\n\n      bar.append('text')\n        .attr('text-anchor', 'start')\n        .attr('dy', '.35em')\n        /* eslint-disable no-confusing-arrow */\n        .attr('dx', d => (y(d.frequency) >= height / 2) ? '-1em' : '4em')\n        .attr('class', d => (y(d.frequency) >= height / 2) ? 'upper' : 'lower')\n        /* eslint-enable no-confusing-arrow */\n        .attr('transform', d => `rotate(90), translate(${y(d.frequency)}, -${x.bandwidth() / 2})`)\n        .text(d => d.frequency)\n\n      const xAxis = d3.axisBottom(x)\n        .tickValues(data.map(d => d.letter))\n\n      chart.append('g')\n        .attr('class', 'x axis')\n        .attr('transform', `translate(0, ${height})`)\n        .call(xAxis)\n\n      const yAxis = d3.axisLeft(y)\n        .ticks(10)\n\n      chart.append('g')\n        .attr('class', 'y axis')\n        .call(yAxis)\n    })\n  }\n\n  render() {\n    return (\n      <Layout>\n        <div className=\"svg-bar-chart-vertical\">\n          <svg className=\"chart\" />\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default IndexPage\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","// @flow\n\nimport Footer from './Footer'\n\nexport default Footer\n","// @flow\n\nimport React from 'react'\n// import Link from 'gatsby-link';\n\nimport {\n  Container,\n  Segment,\n} from 'semantic-ui-react'\n\nconst LayoutFooter = () => (\n  <Segment vertical>\n    <Container>\n      D3 examples\n    </Container>\n  </Segment>\n)\n\nexport default LayoutFooter\n","// @flow\n\nimport Header from './Header'\n\nexport default Header\n","// @flow\n\nimport React from 'react'\n// $FlowIgnore\nimport Link from 'gatsby-link'\n\nimport {\n  Container,\n  Menu,\n  // $FlowIgnore\n} from 'semantic-ui-react'\n\nconst Header = () => (\n  <Menu size=\"large\">\n    <Container>\n      <Menu.Item as={Link} to=\"/\">Home</Menu.Item>\n\n\n    </Container>\n  </Menu>\n)\n\nexport default Header\n","// @flow\n\nimport React from 'react'\nimport type { Node } from 'react'\n// $FlowIgnore\nimport Helmet from 'react-helmet'\nimport {\n  Container,\n} from 'semantic-ui-react'\n\nimport Footer from '../Footer'\nimport Header from '../Header'\n\n\n// $FlowIgnore\nimport 'sanitize.css/sanitize.css'\n// $FlowIgnore\nimport 'semantic-ui-css/semantic.min.css'\n\n// $FlowIgnore\nimport './index.scss'\n\ntype Props = {\n  children: Node\n}\n\nconst Layout = (props: Props): Node => (\n  <div>\n    <Helmet\n      title=\"D3 examples\"\n      meta={[\n        { name: 'description', content: 'D3 examples and tutorials in built with Gatsby react' },\n        { name: 'keywords', content: 'D3, React' },\n      ]}\n    />\n    <Header />\n    <Container>\n      {props.children}\n    </Container>\n    <Footer />\n  </div>\n)\n\nexport default Layout\n","// @flow\n\nimport Layout from './Layout'\n\nexport default Layout\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n"],"sourceRoot":""}